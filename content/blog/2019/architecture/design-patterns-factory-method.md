+++
title = "设计模式：工厂方法"
description = "简单介绍什么是设计模式，以及设计模式的 7 大原则"
author = "gra55"
categories = ["架构"]
tags = ["设计模式", "2019"]
date = "2019-12-30"
featured = "strawberry.jpg"
featuredalt = "2019年5月2日在外婆草莓园里摘草莓"
featuredpath = "date"
linktitle = ""
type = "_post"
+++

# 0x00 模式概述

工厂方法模式定义：定义一个创建产品对象的工厂接口，将产品对象的创建工作推迟到具体子工厂类中。

如果创建的产品对象不多，那么只需要一个工厂类就可以完成。这个叫做**简单工厂**。简单工厂不属于 GoF 23 种设计模式，因为在增加新产品时会**违反开闭原则**。

工厂方法是简单工厂的的进一步抽象，使增加新产品时不需要修改原来的代码，满足**开闭原则**。

# 0x01 场景

+ 客户只知道创建产品的工厂名，不知道具体的产品名
+ 创建对象的任务由多个具体子工厂中的某一个完成，而抽象工厂只提供创建产品的接口

# 0x02 解决方案

工厂方法其实是**依赖倒置原则**的体现，在简单工厂中，Client 创建类 A 的实例，也就是依赖于 A，这样的耦合性很高，增加一个产品 B，在 Client 中就需要进行条件判断才知道需要创建哪个类的实例。

所以使用依赖倒置

# 0x03 优缺点

## 优点：

+ 用户只需要知道具体工厂的名字，就可以得到想要的产品对象，不需要知道产品的具体创建过程。
+ 在系统增加新的产品时，只需要添加一个具体产品类和对应的具体工厂类，不需要修改原工厂代码，满足开闭原则。

## 缺点：

+ 每增加一个产品就需要增加一个具体的产品类和具体工厂类，增加系统复杂性。

---
参考：

:pushpin: [软件设计模式概述](http://c.biancheng.net/view/1317.html)
